# ğŸ“¦ Proyecto: Reportes de Inventario

## ğŸ“Œ DescripciÃ³n
Este proyecto es un sistema de reportes de inventario que permite la consulta y descarga de informes de ventas, compras, vencimientos y stock actual. Utiliza **FastAPI** como backend para gestionar los datos y una interfaz en **PHP** con **Bootstrap** para visualizar la informaciÃ³n. AdemÃ¡s, se ha incorporado **PySpark** para el anÃ¡lisis avanzado de ventas y stock.

## ğŸš€ Funcionalidades Principales
- **AutenticaciÃ³n con clave de acceso** para garantizar seguridad.
- **Interfaz web con pestaÃ±as dinÃ¡micas** para consultar distintos reportes.
- **GeneraciÃ³n y descarga de reportes en Excel**.
- **Filtros avanzados** para ajustar las consultas de ventas, compras y stock.
- **Sistema de API en FastAPI** para recuperar y procesar datos en tiempo real.
- **ConexiÃ³n con bases de datos SQL Server y MySQL**.
- **AnÃ¡lisis avanzado de ventas con PySpark** para obtener insights y tendencias.
- **Manejo de sesiones y seguridad para evitar cachÃ© en el navegador**.
- **DiseÃ±o responsive y dinÃ¡mico con Bootstrap y jQuery**.

## ğŸ› ï¸ TecnologÃ­as Utilizadas
- **Frontend:** PHP, HTML, CSS, Bootstrap, jQuery.
- **Backend:** FastAPI (Python), SQL Server, MySQL.
- **Bibliotecas:** Pandas, Openpyxl, Logging, Uvicorn, PySpark, Requests, NumPy.
- **Servicios:** API REST con CORS habilitado.

## ğŸ’¾ Estructura del Proyecto
```
ğŸ“‚ Inventario
â”œâ”€â”€ ğŸ“„ index.php               # Interfaz web principal con pestaÃ±as y filtros
â”œâ”€â”€ ğŸ“„ main.py                 # Servidor FastAPI para reportes
â”œâ”€â”€ ğŸ“„ analisis.py             # Servidor FastAPI para anÃ¡lisis avanzado con PySpark
â”œâ”€â”€ ğŸ“‚ bd                      # ConexiÃ³n a la base de datos
â”œâ”€â”€ ğŸ“„ xml.xml                 # ConfiguraciÃ³n del servicio para FastAPI
â”œâ”€â”€ ğŸ“„ start_uvicorn.py        # Script para iniciar ambos servidores FastAPI
â””â”€â”€ ğŸ“‚ logs                    # Carpeta para logs del sistema
```

## ğŸ“Œ InstalaciÃ³n y ConfiguraciÃ³n
### 1ï¸âƒ£ **Requisitos**
- **Python 3.10 o superior**
- **Servidor web (Apache o Nginx con PHP)**
- **Base de datos SQL Server / MySQL**
- **Java instalado (para PySpark)**

### 2ï¸âƒ£ **Instalar dependencias en el backend**
```bash
pip install fastapi uvicorn pandas openpyxl pymysql pyodbc pyspark requests numpy
```

### 3ï¸âƒ£ **Configurar y ejecutar los servidores FastAPI**
```bash
python start_uvicorn.py
```

### 4ï¸âƒ£ **Acceder a la Interfaz Web**
Abre en tu navegador:
```
http://localhost/index.php
```

## ğŸ”— Endpoints API (FastAPI)
### Servidor principal (`main.py`)
| MÃ©todo | Endpoint | DescripciÃ³n |
|--------|---------|-------------|
| `GET` | `/get_data?tipo=ventas` | Obtiene ventas filtradas por fecha |
| `GET` | `/get_data?tipo=compras` | Obtiene compras filtradas por fecha |
| `GET` | `/get_data?tipo=vencimientos` | Obtiene vencimientos filtrados por fecha |
| `GET` | `/get_data?tipo=stock` | Obtiene el stock actual filtrado por familia y proveedor |
| `GET` | `/descargar?tipo=ventas` | Descarga un Excel con los datos filtrados |

### Servidor de anÃ¡lisis (`analisis.py`)
| MÃ©todo | Endpoint | DescripciÃ³n |
|--------|---------|-------------|
| `GET` | `/analisis_ventas?fecha_desde=YYYY-MM-DD&fecha_hasta=YYYY-MM-DD` | Analiza ventas y devuelve insights (ticket promedio, top productos, total de ventas) |

## ğŸ† Beneficios del Proyecto
âœ… **AutomatizaciÃ³n** de reportes y descarga de datos.
âœ… **AnÃ¡lisis avanzado** con PySpark para obtener insights valiosos.
âœ… **Eficiencia** en la generaciÃ³n de reportes sin intervenciÃ³n manual.
âœ… **ReducciÃ³n de errores** en la gestiÃ³n del inventario.
âœ… **Escalabilidad** para incorporar nuevas funcionalidades en el futuro.

## ğŸ“© Contacto
Para mÃ¡s informaciÃ³n o mejoras, puedes contactarme en:
- **GitHub:** [@OscarAdrian98](https://github.com/OscarAdrian98)
- **LinkedIn:** [Oscar Adrian](https://www.linkedin.com/in/oscar-adrian/)